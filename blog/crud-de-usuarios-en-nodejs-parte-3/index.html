<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.44 'Fira Sans',sans-serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'Fira Sans',sans-serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;color:hsla(0,0%,0%,1);font-family:'Playfair Display',serif;font-weight:700;text-rendering:optimizeLegibility;font-size:2.15rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;color:hsla(0,0%,0%,1);font-family:'Playfair Display',serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1.58293rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;color:hsla(0,0%,0%,1);font-family:'Playfair Display',serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1.35824rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;color:hsla(0,0%,0%,1);font-family:'Playfair Display',serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;color:hsla(0,0%,0%,1);font-family:'Playfair Display',serif;font-weight:700;text-rendering:optimizeLegibility;font-size:0.85805rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;color:hsla(0,0%,0%,1);font-family:'Playfair Display',serif;font-weight:700;text-rendering:optimizeLegibility;font-size:0.79482rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;}ul{margin-left:1.44rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.44rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;font-size:0.85rem;line-height:1.44rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;font-size:1rem;line-height:1.44rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;}blockquote{margin-left:0;margin-right:1.44rem;margin-top:0;padding-bottom:0;padding-left:1.17rem;padding-right:0;padding-top:0;margin-bottom:1.08rem;font-size:1.16543rem;line-height:1.44rem;color:hsla(0,0%,0%,0.59);font-style:italic;border-left:0.27rem solid hsla(0,0%,0%,0.2);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.08rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.08rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.44rem;margin-bottom:calc(1.08rem / 2);margin-top:calc(1.08rem / 2);}li > ul{margin-left:1.44rem;margin-bottom:calc(1.08rem / 2);margin-top:calc(1.08rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.08rem / 2);}code{font-size:0.85rem;line-height:1.44rem;}kbd{font-size:0.85rem;line-height:1.44rem;}samp{font-size:0.85rem;line-height:1.44rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:0.96rem;padding-right:0.96rem;padding-top:0.72rem;padding-bottom:calc(0.72rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}a{color:#9f392b;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.44rem;color:hsla(0,0%,0%,0.8);font-weight:400;}blockquote cite:before{content:"— ";}@media only screen and (max-width:480px){blockquote{margin-left:-1.08rem;margin-right:0;padding-left:0.81rem;}}</style><style data-href="/styles.b67c49ebaa15e159c109.css">.container{margin-right:auto;margin-left:auto;max-width:960px;padding:1.45rem 10px}.col-medium{width:50%;padding:5px 10px}.col-fullwidth{width:100%;padding:5px 10px}.flex{display:flex;flex-wrap:wrap}.mt-3{margin-top:3rem}.mb-3{margin-bottom:3rem}.ml-3{margin-left:3rem}.mr-3{margin-right:3rem}.pt-3{padding-top:3rem}.pb-3{padding-bottom:3rem}.pl-3{padding-left:3rem}.pr-3{padding-right:3rem}.h-300{height:300px}.text-center{text-align:center}.text-right{text-align:right}.text-left{text-align:left}.text-justify{text-align:justify}.justify-center{justify-content:center}.small-text{font-size:small}.font-grey{color:grey}.initial{font-size:medium}.btn{border-radius:5px;padding:10px;cursor:pointer}.btn-primary{color:#fff;background-color:#639}.btn-primary:hover{color:#639}.app,.btn-primary:hover{background-color:#fff}.header{background:#639}.navbar{margin:0 auto;max-width:960;padding:0 1.0875rem;justify-items:space-between;align-items:center}.navbar .logo{color:#fff;text-decoration:none}.navbar .nav{flex:1 1;margin-bottom:auto}.navbar .nav .nav-item{list-style-type:none;padding:1rem;margin-bottom:inherit}.banner{background:#639;color:#fff;padding:5rem;font-size:50px}.list-item{list-style-type:none;padding:.5rem}.item-name{color:#fff;text-decoration:none}.title{font-size:2rem}.subtitle,.title{padding:0;margin:0 0 1.5rem;color:#000;font-family:Futura PT,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-weight:700;text-rendering:optimizeLegibility;line-height:1.25}.subtitle{font-size:1.51572rem}a{color:#639;text-decoration:none}p{color:#000}article{box-shadow:0 1px 2px rgba(46,41,51,.08),0 2px 4px rgba(71,63,79,.08);background-color:#fff;margin-bottom:1.5rem;margin-left:0;margin-right:0;border-radius:4px;border:0 initial;border-color:initial;-o-border-image:initial;border-image:initial;transition:transform .25s cubic-bezier(.4,0,.2,1) 0s,box-shadow .25s cubic-bezier(.4,0,.2,1) 0s,padding .25s cubic-bezier(.4,0,.2,1) 0s}article .article-image{height:200px}article .article-body{padding:3rem}article:hover{box-shadow:1px 1px 10px 2px #888}pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f6f8fa;border-radius:3px}.formgroup{margin-bottom:10px}.formgroup .formcontrol{width:100%;border:1px solid #639;border-radius:5px;margin:5px 0}.formgroup .textarea{height:175px}.formgroup .g-recaptcha{display:inline-block}@media (min-width:481px) and (max-width:767px){.col-medium{width:100%;padding:5px 10px}.header{padding-top:5%}.banner{font-size:30px}.formgroup .textarea{height:50px}.h-300{height:auto}}@media (min-width:320px) and (max-width:480px){.col-medium{width:100%;padding:5px 10px}.header{padding-top:5%}.banner{font-size:30px}.formgroup .textarea{height:50px}.h-300{height:auto}}</style><meta name="generator" content="Gatsby 2.20.12"/><link href="//fonts.googleapis.com/css?family=Playfair+Display:700|Fira+Sans:400,400i,700,700i" rel="stylesheet" type="text/css"/><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="manifest" href="/manifest.webmanifest"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png"/><link as="script" rel="preload" href="/webpack-runtime-bcb8b4e3746982762ef4.js"/><link as="script" rel="preload" href="/framework-42a655f998346a20003c.js"/><link as="script" rel="preload" href="/styles-4773e5fdece67d6f48f5.js"/><link as="script" rel="preload" href="/app-595e1ca223fbcc778599.js"/><link as="script" rel="preload" href="/cb1608f2-09726aaf060f570ced18.js"/><link as="script" rel="preload" href="/a9a7754c-ee96fd59234b9b1c3c36.js"/><link as="script" rel="preload" href="/d3e0ddf8626fa0443a290073f4e52e7484009146-ee82fbe867d2a6f79747.js"/><link as="script" rel="preload" href="/5b3513a32482471b7563a5aaec54ca307e0f774d-e5f23bdcda77cd3d107e.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-6ae2ebee1104056a2b97.js"/><link as="fetch" rel="preload" href="/page-data/blog/crud-de-usuarios-en-nodejs-parte-3/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="app"><header class="header"><div class="navbar flex"><a class="logo" href="/">@FuenRob</a><nav class="navigation"><ul class="nav flex"><li class="nav-item"><a class="item-name" href="/blog">Blog</a></li><li class="nav-item"><a class="item-name" href="/about">Sobre mí</a></li><li class="nav-item"><a class="item-name" href="/contact">Contacto</a></li></ul></nav></div></header><div class="container"><div class="text-justify"><h1 class="title">CRUD de usuarios en NodeJS: Parte 3</h1><div><p>Ahora que ya tenemos el servidor de Node levantado y la base de datos en MongoDB operativa, hay que diseñar la entidad de usuario y sus acciones. Para ello vamos a empezar por crear el modelo, pero antes vamos a añadir extensiones que necesitaremos más adelante, empezando por <em>mongoose-unique-validator</em>, que agrega validación previa al guardado para campos únicos dentro de un esquema Mongoose:</p>
<pre><code>   $ npm install --save mongoose-unique-validator
</code></pre>
<p>Vamos a instalar también la extensión <em>bcrypt</em>, con ella vamos a cifrar la contraseña para "hashearla". Esto quiere decir que vamos a usar contraseñas con un método de cifrado del tipo hash.</p>
<pre><code>   $ npm install --save bcrypt
</code></pre>
<p>Otra librería que nos vendrá muy bien para recuperar los campos de un formulario para actualizar nuestro usuario será <em>underscore</em> y para instalarla lanzamos:</p>
<pre><code>   $ npm install --save underscore
</code></pre>
<p>Para acabar, vamos a añadir la librería <em>body-parser</em> que nos permitirá coger cualquier dato (de usuario, paginación, limite para mostrar. etc) que enviemos al servidor al consumir los servicios API Rest, directamente desde el objeto body dentro de req, así <strong>req.body.foo</strong>. A parte, podemos añadir validaciones de tipo de dato de una manera sencilla. Por ejemplo: <strong>req.body.foo.toString()</strong></p>
<pre><code>   $ npm install --save body-parser
</code></pre>
<p>Cuando hayamos terminado de instalar las librerías, creamos una carpeta nueva llamada <strong>models</strong> dentro de la carpeta <strong>server</strong>:</p>
<pre><code>   $ mkdir server/models
</code></pre>
<p>Dentro de la carpeta creamos un fichero llamado User.js, este fichero contendrá el esquema de nuestra entidad usuario y será el encargado de crear este esquema en la base de datos:</p>
<pre><code class="language-javascript">    const mongoose = require('mongoose');
    const uniqueValidator = require('mongoose-unique-validator');

    let Schema = mongoose.Schema;

    let userSchema = new Schema({
        name: {
            type: String,
            required: [true, 'El nombre es requerido']
        },
        email:{
            type: String,
            unique: true,
            required: [true, 'El correo electrónico es requerido']
        },
        password: {
            type: String,
            required: [true, 'La contraseña es requerido']
        },
        img: {
            type: String,
            required: false
        },
        status: {
            type: Boolean,
            default: true
        }
    });

    userSchema.methods.toJSON = function(){
        let user = this;
        let userObject = user.toObject();
        delete userObject.password;
        return userObject;
    }

    userSchema.plugin(uniqueValidator, {
        message: '{PATH} debe de ser único'
    });

    module.exports = mongoose.model('User', userSchema);
</code></pre>
<p>Una vez hayamos creado el modelo volemos a crear una carpeta nueva llamada <strong>routes</strong>, dentro de <strong>server</strong> y al mismo nivel que models.</p>
<pre><code>   $ mkdir server/routes
</code></pre>
<p>Dentro de ella vamos a crear un fichero llamado <strong>users.js</strong>, y será el fichero que contendrá las acciones que se pueden hacer sobre nuestros usuarios. Es el fichero que contiene las acciones del CRUD. Los servicios serán del tipo: </p>
<ul>
<li>POST para crear.</li>
<li>PUT para editar.</li>
<li>GET para listar.</li>
<li>DELETE para borrar o desactivar un usuario.</li>
</ul>
<p>Este fichero user.js contiene lo siguiente:</p>
<pre><code class="language-javascript">    const express = require('express');
    const bcrypt = require('bcrypt');
    const _ = require('underscore');
    const User = require('../models/User');
    const app = express();

    // Listado de usuarios
    app.get('/usuario', (req, res) => {

        let from = req.query.from || 0;
        from = Number(from);

        let limit = req.query.limit || 5;
        limit = Number(limit);

        let conditions = {
            status: true
        }

        User.find(conditions, 'name email status')
            .skip(from)
            .limit(limit)
            .exec((err, users) => {
            if(err){
                return res.status(400).json({
                ok: false,
                err  
                });
            }
        
            User.countDocuments(conditions,(err, sumUsers) => {
                res.json({
                    ok: true,
                    users,
                    sumUsers
                });
            });
        });
    });

    // Crear usuario
    app.post('/usuario', (req, res) => {
        let body = req.body;

        let user = new User({
            name: body.name,
            email: body.email,
            password: bcrypt.hashSync(body.password, 10)
        });

        user.save((err, userDB) => {
            if(err){
                return res.status(400).json({
                ok: false,
                err  
                });
            }

            res.json({
                ok: true,
                usuario: userDB
            });
        });
    });

    // Actualizar usuario
    app.put('/usuario/:id', (req, res) => {
        let id = req.params.id;
        let body = _.pick(req.body, ['name', 'email', 'img', 'status']);

        User.findByIdAndUpdate(id, body, {new: true, runValidators: true}, (err, userBD) => {
            if(err){
                return res.status(400).json({
                ok: false,
                err  
                });
            }

            res.json({
                ok: true,
                usuario: userBD
            });
        });
    });

    // Eliminar/Desactivar usuario
    app.delete('/usuario/:id', (req, res) => {
        let id = req.params.id;
        User.findByIdAndUpdate(id, {status: false}, {new: true}, (err, userBD) => {
            if(err){
                return res.status(400).json({
                ok: false,
                err  
                });
            }

            if(!userBD){
                return res.status(400).json({
                    ok: false,
                    err:{
                        message: 'Usuario no encontrado'
                    } 
                });
            }
            
            res.json({
                ok: true,
                userBD
            });
        });
    });

    module.exports = app;
</code></pre>
<p>En mi caso, no quiero eliminar ningún usuario, así que el DELETE es para desactivar cambiando el estado del usuario por false.
Ahora, para poder usar este controlador que tiene las funciones de nuestro CRUD, hay que importarlo en nuestro fichero server.js con la siguiente línea de código:</p>
<pre><code class="language-javascript">    app.use(require('./routes/users'));
</code></pre>
<p>Además hay que importar la librería que hemos instalado antes, llamada body-parser, que nos permitirá acceder a los datos de una manera más sencilla:</p>
<pre><code class="language-javascript">    const bodyParser = require('body-parser');
</code></pre>
<p>De este modo, nuestro fichero server.js quedará así:</p>
<pre><code class="language-javascript">    const express = require('express');
    const mongoose = require('mongoose');
    const bodyParser = require('body-parser');

    // Parse application/x-www-form-urlencoded
    app.use(bodyParser.urlencoded({ extended: false }));
    // Parse application/json
    app.use(bodyParser.json());
    // Include controller of the entity
    app.use(require('./routes/users'));

    const run = async () => {
        await mongoose.connect(SERVER_BBDD, {
            useNewUrlParser: true,
            useUnifiedTopology: true,
            useCreateIndex: true,
        });
    };

    run().catch(error => console.error(error));

    app.listen(process.env.PORT, () => {
         console.log(`Escuchando en el puerto 3000`);
    });
</code></pre>
<p>Una vez tengamos nuestro servidor levantado, podemos hacer las peticiones para crear, editar, desactivar o listar los usuarios registrados en nuestra base de datos de mangodb. En mi caso, uso Postman y <a href="https://documenter.getpostman.com/view/3846138/SWTK3YsQ?version=latest#5671a6c7-0fc3-4aa4-9aeb-0487ea862ca1" target="_blank" rel="nofollow">aquí</a> puedes encontrar una breve documentación de los comandos que uso para ejecutar las apis que acabamos de hacer. Esto es lo básico funcional para tener un CRUD completo de usuarios.</p></div></div><div shortname="fuenrob" config="[object Object]" id="disqus_thread"></div></div><footer class="mt-3"><hr class="mb-3"/><div class="text-center"><ul class="justify-center flex"><li class="list-item"><a href="https://twitter.com/FuenRob" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" class="svg-inline--fa fa-twitter fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a></li><li class="list-item"><a href="https://github.com/FuenRob" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></li><li class="list-item"><a href="https://www.linkedin.com/in/robercmorais/" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin" class="svg-inline--fa fa-linkedin fa-w-14 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></a></li><li class="list-item"><a href="https://medium.com/@fuenrob" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="medium" class="svg-inline--fa fa-medium fa-w-14 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 32v448h448V32H0zm372.2 106.1l-24 23c-2.1 1.6-3.1 4.2-2.7 6.7v169.3c-.4 2.6.6 5.2 2.7 6.7l23.5 23v5.1h-118V367l24.3-23.6c2.4-2.4 2.4-3.1 2.4-6.7V199.8l-67.6 171.6h-9.1L125 199.8v115c-.7 4.8 1 9.7 4.4 13.2l31.6 38.3v5.1H71.2v-5.1l31.6-38.3c3.4-3.5 4.9-8.4 4.1-13.2v-133c.4-3.7-1-7.3-3.8-9.8L75 138.1V133h87.3l67.4 148L289 133.1h83.2v5z"></path></svg></a></li><li class="list-item"><a href="https://dev.to/fuenrob" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="dev" class="svg-inline--fa fa-dev fa-w-14 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M120.12 208.29c-3.88-2.9-7.77-4.35-11.65-4.35H91.03v104.47h17.45c3.88 0 7.77-1.45 11.65-4.35 3.88-2.9 5.82-7.25 5.82-13.06v-69.65c-.01-5.8-1.96-10.16-5.83-13.06zM404.1 32H43.9C19.7 32 .06 51.59 0 75.8v360.4C.06 460.41 19.7 480 43.9 480h360.2c24.21 0 43.84-19.59 43.9-43.8V75.8c-.06-24.21-19.7-43.8-43.9-43.8zM154.2 291.19c0 18.81-11.61 47.31-48.36 47.25h-46.4V172.98h47.38c35.44 0 47.36 28.46 47.37 47.28l.01 70.93zm100.68-88.66H201.6v38.42h32.57v29.57H201.6v38.41h53.29v29.57h-62.18c-11.16.29-20.44-8.53-20.72-19.69V193.7c-.27-11.15 8.56-20.41 19.71-20.69h63.19l-.01 29.52zm103.64 115.29c-13.2 30.75-36.85 24.63-47.44 0l-38.53-144.8h32.57l29.71 113.72 29.57-113.72h32.58l-38.46 144.8z"></path></svg></a></li></ul></div><div class="text-center"><ul class="justify-center flex"><li class="list-item"><a class="small-text" href="/aviso-legal">Aviso legal</a></li><li class="list-item"><a class="small-text" href="/politica-de-privacidad">Política de privacidad</a></li><li class="list-item"><a class="small-text" href="/politica-de-cookies">Política de cookies</a></li><li class="list-item"><a class="small-text" href="/condiciones-de-uso">Condiciones de uso</a></li></ul></div></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-163936148-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/crud-de-usuarios-en-nodejs-parte-3/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-595e1ca223fbcc778599.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-ab12cfe2f77aa8ed5f67.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-6ae2ebee1104056a2b97.js"],"component---src-templates-blog-list-js":["/component---src-templates-blog-list-js-2fa5ac2915a253458911.js"],"component---src-pages-404-js":["/component---src-pages-404-js-feaa2d13cfd75b89fb42.js"],"component---src-pages-about-js":["/component---src-pages-about-js-97dbef458c785ba5b972.js"],"component---src-pages-contact-js":["/component---src-pages-contact-js-ce44e35ce0a99b18196b.js"],"component---src-pages-index-js":["/component---src-pages-index-js-5318602309b065c6b93f.js"]};/*]]>*/</script><script src="/component---src-templates-blog-post-js-6ae2ebee1104056a2b97.js" async=""></script><script src="/5b3513a32482471b7563a5aaec54ca307e0f774d-e5f23bdcda77cd3d107e.js" async=""></script><script src="/d3e0ddf8626fa0443a290073f4e52e7484009146-ee82fbe867d2a6f79747.js" async=""></script><script src="/a9a7754c-ee96fd59234b9b1c3c36.js" async=""></script><script src="/cb1608f2-09726aaf060f570ced18.js" async=""></script><script src="/app-595e1ca223fbcc778599.js" async=""></script><script src="/styles-4773e5fdece67d6f48f5.js" async=""></script><script src="/framework-42a655f998346a20003c.js" async=""></script><script src="/webpack-runtime-bcb8b4e3746982762ef4.js" async=""></script></body></html>